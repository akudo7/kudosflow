{
  "config": {
    "recursionLimit": 25,
    "eventEmitter": {
      "defaultMaxListeners": 10
    }
  },
  "stateAnnotation": {
    "name": "InterruptWorkflowState",
    "type": "Annotation.Root"
  },
  "annotation": {
    "messages": {
      "type": "string[]",
      "reducer": "(x, y) => x.concat(y)",
      "default": []
    },
    "userApproval": {
      "type": "boolean | null",
      "reducer": "(x, y) => y !== undefined ? y : x",
      "default": null
    },
    "draftStep": {
      "type": "number",
      "reducer": "(x, y) => y !== undefined ? y : x",
      "default": 1
    },
    "lastUserInput": {
      "type": "string",
      "reducer": "(x, y) => y || x",
      "default": ""
    }
  },
  "models": [],
  "nodes": [
    {
      "id": "askName",
      "function": {
        "parameters": [
          {
            "name": "state",
            "type": "typeof InterruptWorkflowState.State"
          }
        ],
        "output": {
          "messages": "string[]",
          "lastUserInput": "string",
          "userApproval": "null"
        },
        "implementation": "const userInput = interrupt('What is your name?');\n\nif (!userInput) {\n  return {\n    messages: ['Name was not entered'],\n    lastUserInput: '',\n    userApproval: null\n  };\n}\n\nconst userName = String(userInput).trim();\nconst result = {\n  messages: [`Hello ${userName}!`],\n  lastUserInput: userName,\n  userApproval: null\n};\n\nreturn result;"
      }
    },
    {
      "id": "askJob",
      "function": {
        "parameters": [
          {
            "name": "state",
            "type": "typeof InterruptWorkflowState.State"
          }
        ],
        "output": {
          "messages": "string[]",
          "lastUserInput": "string",
          "userApproval": "null"
        },
        "implementation": "const userInput = interrupt('What is your occupation?');\n\nif (!userInput) {\n  return {\n    messages: ['Occupation was not entered'],\n    lastUserInput: '',\n    userApproval: null\n  };\n}\n\nconst userJob = String(userInput).trim();\nconst result = {\n  messages: [`Occupation: ${userJob}`, 'Process completed'],\n  lastUserInput: userJob,\n  userApproval: null\n};\n\nreturn result;"
      }
    },
    {
      "id": "showResult",
      "function": {
        "parameters": [
          {
            "name": "state",
            "type": "typeof InterruptWorkflowState.State"
          }
        ],
        "output": {        },
        "implementation": "console.log('üîç Final result:', state.messages);\nreturn {};"
      }
    }
  ],
  "edges": [
    {
      "from": "__start__",
      "to": "askName"
    },
    {
      "from": "askName",
      "to": "askJob"
    },
    {
      "from": "askJob",
      "to": "showResult"
    },
    {
      "from": "showResult",
      "to": "__end__"
    }
  ],
  "stateGraph": {
    "annotationRef": "InterruptWorkflowState",
    "config": {
      "checkpointer": {
        "type": "MemorySaver"
      }
    }
  }
}